{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","services/api.js","components/App/App.js","index.js"],"names":["Searchbar","state","inputValue","searchChange","e","preventDefault","setState","target","value","searchSubmit","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","PropTypes","func","isRequired","ImageGalleryItem","tags","webformatURL","imgId","onClickItem","src","alt","onClick","ImageGallery","items","onItemClick","map","item","id","key","Button","onClickBtn","App","color","height","width","timeout","React","Modal","handleKeyDown","code","onCloseItem","backdropClose","currentTarget","window","addEventListener","removeEventListener","largeImageURL","searchQuery","page","axios","get","then","res","data","loading","galleryItems","showModal","totalHits","onScroll","scrollTo","top","document","documentElement","scrollHeight","behavior","nextPage","fetchItems","apiSearch","hits","prevState","catch","console","log","finally","handleSearchApi","query","openModal","itemsId","itemId","find","closeModal","prevProps","length","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.2d7c498f.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Searchbar extends Component {\r\n  static props = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  searchChange = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  searchSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.searchSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.inputValue}\r\n            onChange={this.searchChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ tags, webformatURL, imgId, onClickItem }) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={() => onClickItem(imgId)}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  tags: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  imgId: PropTypes.number.isRequired,\r\n  onClickItem: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ items, onItemClick }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {items.map((item) => {\r\n        const { id, tags, webformatURL } = item;\r\n\r\n        return (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            imgId={id}\r\n            tags={tags}\r\n            webformatURL={webformatURL}\r\n            onClickItem={onItemClick}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  items: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      tags: PropTypes.string.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      id: PropTypes.number.isRequired,\r\n    })\r\n  ).isRequired,\r\n  onItemClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Button({ onClickBtn }) {\r\n  return (\r\n    <button className=\"Button\" type=\"button\" onClick={onClickBtn}>\r\n      Load More\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClickBtn: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\n\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default class App extends React.Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <div className=\"spinner\">\r\n        <Loader\r\n          type=\"Oval\"\r\n          color=\"#00BFFF\"\r\n          height={40}\r\n          width={40}\r\n          timeout={3000} //3 secs\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    onCloseItem: PropTypes.func.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onCloseItem();\r\n    }\r\n  };\r\n\r\n  backdropClose = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onCloseItem();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.backdropClose}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.largeImageURL} alt=\"\" />;\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import axios from \"axios\";\r\n\r\nconst key = \"17751267-16ded02a741af1cdfc94a2144\";\r\nconst url = \"https://pixabay.com/api/\";\r\n\r\nconst apiSearch = (searchQuery, page) => {\r\n  return axios\r\n    .get(\r\n      `${url}?q=${searchQuery}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((res) => res.data);\r\n};\r\n\r\nexport default { apiSearch };\r\n","import React, { Component } from \"react\";\r\n\r\nimport Searchbar from \"../Searchbar/Searchbar\";\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\nimport Button from \"../Button/Button\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nimport apiSearch from \"../../services/api\";\r\n\r\nimport \"./App.css\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    searchQuery: \"\",\r\n    loading: false,\r\n    galleryItems: [],\r\n    page: 1,\r\n    showModal: false,\r\n    largeImageURL: \"\",\r\n    totalHits: 0,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.searchQuery;\r\n    const nextQuery = this.state.searchQuery;\r\n\r\n    if (prevQuery !== nextQuery || prevState.page !== this.state.page) {\r\n      this.fetchItems();\r\n    }\r\n  }\r\n\r\n  onScroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  nextPage = () => {\r\n    this.setState(({ page }) => {\r\n      return { page: page + 1 };\r\n    });\r\n  };\r\n\r\n  fetchItems = () => {\r\n    const { searchQuery, page } = this.state;\r\n    this.setState({ loading: true });\r\n\r\n    apiSearch\r\n      .apiSearch(searchQuery, page)\r\n      .then((data) => {\r\n        const { hits, totalHits } = data;\r\n\r\n        this.setState((prevState) => ({\r\n          galleryItems: [...prevState.galleryItems, ...hits],\r\n          totalHits: totalHits,\r\n        }));\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      })\r\n      .finally(() => {\r\n        this.setState({ loading: false });\r\n        this.onScroll();\r\n      });\r\n  };\r\n\r\n  handleSearchApi = (query) => {\r\n    this.setState({ searchQuery: query, page: 1, galleryItems: [] });\r\n  };\r\n\r\n  openModal = (itemsId) => {\r\n    const itemId = this.state.galleryItems.find(({ id }) => id === itemsId);\r\n\r\n    this.setState({\r\n      largeImageURL: itemId.largeImageURL,\r\n      showModal: true,\r\n    });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({\r\n      showModal: false,\r\n      largeImageURL: \"\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { loading, galleryItems, showModal, largeImageURL } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.handleSearchApi} />\r\n        {showModal && (\r\n          <Modal onCloseItem={this.closeModal} largeImageURL={largeImageURL} />\r\n        )}\r\n        {galleryItems.length > 0 && (\r\n          <ImageGallery items={galleryItems} onItemClick={this.openModal} />\r\n        )}\r\n        {loading && <Loader />}\r\n        {galleryItems.length > 0 &&\r\n          !loading &&\r\n          this.state.galleryItems.length !== this.state.totalHits && (\r\n            <Button onClickBtn={this.nextPage} />\r\n          )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./components/App/App\";\r\n\r\nReactDOM.render(<App className=\"App\" />, document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}